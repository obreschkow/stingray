source("~/anita/stingray/R/example.R")
source("~/Dropbox/Code/Fortran/stingray/stingray/R/example.R")
source("~/Dropbox/Code/Fortran/stingray/stingray/R/example.R")
# libraries
library(celestial, quietly = TRUE)
library(magicaxis, quietly = TRUE)
library(arrow, quietly = TRUE)
library(data.table, quietly = TRUE)
WAVES_gal = read_parquet('galaxies_shark.parquet', as_data_frame = TRUE)
WAVES_gal = read_parquet('anita/galaxies_shark.parquet', as_data_frame = TRUE)
# stingray path
setwd('~/Dropbox/Code/Fortran/stingray/stingray')
# libraries
library(celestial, quietly = TRUE)
library(magicaxis, quietly = TRUE)
library(arrow, quietly = TRUE)
library(data.table, quietly = TRUE)
WAVES_gal = read_parquet('anita/galaxies_shark.parquet', as_data_frame = TRUE)
WAVES_gal = read_parquet('../anita/galaxies_shark.parquet', as_data_frame = TRUE)
magplot(sph2car(WAVES_gal[sample(.N, 1e4),list(ra,0,redshift_observed)])[,1:2], pch='.',â€¨        asp=1, col=hsv(alpha=0.2), grid=FALSE, labels=FALSE)
magplot(sph2car(WAVES_gal[sample(.N, 1e4),list(ra,0,redshift_observed)])[,1:2], pch='.', asp=1, col=hsv(alpha=0.2), grid=FALSE, labels=FALSE)
setDT(WAVES_gal)
magplot(sph2car(WAVES_gal[sample(.N, 1e4),list(ra,0,redshift_observed)])[,1:2], pch='.', asp=1, col=hsv(alpha=0.2), grid=FALSE, labels=FALSE)
magplot(sph2car(WAVES_gal[sample(.N, 1e4),list(ra,0,redshift_observed)])[,1:2], pch=16, asp=1, col=hsv(alpha=0.2), grid=FALSE, labels=FALSE)
dim(WAVES_gal)
names(WAVES_gal)
x = sph2car(WAVES_gal[sample(.N, 1e4),list(ra,dec,redshift_observed)])
dim(x)
z.max = max(vectornorm(x))
rgl.new(aspect=1, fixed=FALSE)
color = lightness(spectrumcolors(1000,rev=TRUE), 0.4)
col = color[vectornorm(x)/z.max*999+1]
spheres3d(x, col = col, radius=3)
z.max
rgl.new(aspect=1, fixed=FALSE)
color = lightness(spectrumcolors(1000,rev=TRUE), 0.4)
col = color[vectornorm(x)/z.max*999+1]
spheres3d(x, col = col, radius=.01)
z.max = max(vectornorm(x))
rgl.new(aspect=1, fixed=FALSE)
color = lightness(spectrumcolors(1000,rev=TRUE), 0.4)
col = color[vectornorm(x)/z.max*999+1]
spheres3d(x, col = col, radius=.003)
spheres3d(0, 0, 0, col = 'black', radius=.006)
z.max = max(vectornorm(x))
rgl.new(aspect=1, fixed=FALSE)
color = lightness(spectrumcolors(1000,rev=TRUE), 0.4)
col = color[vectornorm(x)/z.max*999+1]
spheres3d(x, col = col, radius=.003)
?celestial
source("~/Dropbox/Code/Fortran/stingray/anita/anita.R")
range(x)
source("~/Dropbox/Code/Fortran/stingray/anita/anita.R")
source("~/Dropbox/Code/Fortran/stingray/anita/anita.R")
source("~/Dropbox/Code/Fortran/stingray/anita/anita.R")
source("~/Dropbox/Code/Fortran/stingray/anita/anita.R")
source("~/Dropbox/Code/Fortran/stingray/anita/anita.R")
source("~/Dropbox/Code/Fortran/stingray/anita/anita.R")
source("~/Dropbox/Code/Fortran/stingray/anita/anita.R")
source("~/Dropbox/Code/Fortran/stingray/anita/anita.R")
source("~/Dropbox/Code/Fortran/stingray/anita/anita.R")
source("~/Dropbox/Code/Fortran/stingray/anita/anita.R")
source("~/Dropbox/Code/Fortran/stingray/anita/anita.R")
source("~/Dropbox/Code/Fortran/stingray/anita/anita.R")
source("~/Dropbox/Code/Fortran/stingray/stingray/R/example.R")
source("~/Dropbox/Code/Fortran/stingray/anita/anita.R")
source("~/Dropbox/Code/Fortran/stingray/anita/anita.R")
source("~/Dropbox/Code/Fortran/stingray/anita/anita.R")
source("~/Dropbox/Code/Fortran/stingray/anita/anita.R")
source("~/Dropbox/Code/Fortran/stingray/anita/anita.R")
source("~/Dropbox/Code/Fortran/stingray/anita/anita.R")
source("~/Dropbox/Code/Fortran/stingray/anita/anita.R")
dim(WAVES_gal)
source("~/Dropbox/Code/Fortran/stingray/anita/anita.R")
source("~/Dropbox/Code/Fortran/stingray/anita/anita.R")
source("~/Dropbox/Code/Fortran/stingray/anita/anita.R")
source("~/Dropbox/Code/Fortran/stingray/anita/anita.R")
source("~/Dropbox/Code/Fortran/stingray/anita/anita.R")
# ...
WAVES_gal = WAVES_gal[dec > -10 & mass_stellar_total > 9 & redshift_observed > 0.01 & redshift_observed <=0.2]
dim(WAVES_gal)
WAVES_gal$ra
range(WAVES_gal$ra)
range(WAVES_gal$lat)
range(WAVES_gal$dec)
source("~/Dropbox/Code/Fortran/stingray/anita/anita.R")
source("~/Dropbox/Code/Fortran/stingray/anita/anita.R")
